<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>用户管理</title>
	<link rel="stylesheet" href="../../../style/admin/user.css">
	<link rel="stylesheet" href="../../../style/global/global.css">
	<link rel="stylesheet" href="../../../style/global/iframeglobal.css">
</head>
<body>
		<!-- 身份管理 -->
		<div class="user-tit"><img src="../../../imgs/nowpath.png" alt="">当前位置： 用户管理</div>
		<div class="btn">
			<a href="../../admin/createuser/createuser.html" class="adduser">添加用户</a>
			<a class="edituser delete" href="${pageContext.request.contextPath}/User_getUser?id=">编辑</a>
			<a class="delete" href="javascript:">删除</a>
		</div>
		<!-- 表单 -->
		<div id="idcard" class="idcard">
			<table>
				<tr class="table-tit">
					<th class="checkall"><input class="checks" type="checkbox"></th>
					<th class="id">用户名</th>
					<th class="name">姓名</th>
					<th class="sex">性别</th>
					<th class="phone">电话</th>
					<th class="email">邮箱</th>
					<th class="id">角色</th>
					<th class="group">分组</th>
					<th class="device">当前状态</th>
				</tr>
                <s:iterator value="lstUser" >
                    <tr>
                        <td><input type="checkbox" value=<s:property value="id" /></td>
                        <td><s:property value="id" />zhangsan</td>
                        <td><s:property value="loginname" />张三</td>
                        <td><s:property value="sex" />男</td>
                        <td><s:property value="mobile" />15188702425</td>
                        <td><s:property value="email" />1402645641@qq.com</td>
                        <td><s:property value="idcard" />三年级班主任</td>
                        <td><s:property value="group" />三年级一组</td>
                        <td><span id="" class="onstate">已启用</span></td>
                    </tr>
                </s:iterator>
          <tr>
              <td><input type="checkbox" value=<s:property value="id" /></td>
              <td><s:property value="id" />zhangsan</td>
              <td><s:property value="loginname" />张三</td>
              <td><s:property value="sex" />男</td>
              <td><s:property value="mobile" />132</td>
              <td><s:property value="email" />1402645641@qq.com</td>
              <td><s:property value="idcard" />三年级班主任</td>
              <td><s:property value="group" />三年级一组</td>
              <td><span id="" class="onstate">已启用</span></td>
          </tr>
          <tr>
              <td><input type="checkbox" value=<s:property value="id" /></td>
              <td><s:property value="id" />zhangsan</td>
              <td><s:property value="loginname" />张三</td>
              <td><s:property value="sex" />男</td>
              <td><s:property value="mobile" />132</td>
              <td><s:property value="email" />1402645641@qq.com</td>
              <td><s:property value="idcard" />三年级班主任</td>
              <td><s:property value="group" />三年级一组</td>
              <td><span id="" class="onstate">已启用</span></td>
          </tr>
          <tr>
              <td><input type="checkbox" value=<s:property value="id" /></td>
              <td><s:property value="id" />zhangsan</td>
              <td><s:property value="loginname" />张三</td>
              <td><s:property value="sex" />男</td>
              <td><s:property value="mobile" />132</td>
              <td><s:property value="email" />1402645641@qq.com</td>
              <td><s:property value="idcard" />三年级班主任</td>
              <td><s:property value="group" />三年级一组</td>
              <td><span id="" class="onstate">已启用</span></td>
          </tr>
			</table>
		</div>
		<!-- 分页 -->
		<div class="gopage">
			<div class="clearfix">
				<a class="nonepage" href="?id=">上一页</a>
				<a class="nowpage" href="?id=">1</a>
				<a href="?id=">2</a>
				<a href="?id=">3</a>
				<a href="?id=">4</a>
				<a href="?id=">5</a>
				<a href="?id=">6</a>
				<a href="?id=">7</a>
				<a href="?id=">8</a>
				<a href="?id=">下一页</a>
			</div>
		</div>
</body>
<script src="../../../js/jquery-3.1.1.min.js"></script>
<script>
	// 全选
	$('.checks').click(function(){
		if ( this.checked ){
			$('#idcard td input').prop('checked',true);
		}else{
			$('#idcard td input').prop('checked',false);
		}
		checkInput();
	});
	//单选
	$('#idcard td input').click(function(){
		checkInput();
	});
	function checkInput(){
		var numTrue = 0;
		$('#idcard td input').each(function(){
			if($(this).prop("checked")){
				$(this).parent().parent().css({'background':'#f9f9f9'});
				numTrue += 1;
			}else{
				$(this).parent().parent().css({'background':''});
			};
		});
		if(numTrue != $('#idcard td input').length){
			$('.checks').prop("checked",false);
		}else{
			$('.checks').prop("checked",true);
		}
	}
	 // 点击已启用变成已禁用
	 $('.idcard tr td:last-child span').click(function(){
		 	if ( $(this).html() == '已启用' ){
		 		$(this).html('已禁用');
		 		$(this).removeClass();
		 		$(this).attr('class','offstate');
		 	}else{
		 		$(this).html('已启用');
		 		$(this).removeClass();
		 		$(this).attr('class','onstate');
		 	}
	 });
</script>
</html>